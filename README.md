# FPGA Ping Pong Game (VHDL)

這是一個基於 VHDL 設計的雙人乒乓球遊戲電路。使用 8 顆 LED 代表乒乓球的移動軌跡，透過左右兩顆按鈕進行擊球。系統包含分數統計、發球機制以及隨機速度變化功能。

##  功能簡介 (Features)

* **LED 移位顯示**：球體 (LED) 會在左右兩端之間移動。
* **按鍵擊球判定**：
    * **成功回擊**：當球到達最邊緣時按下對應按鈕，球會反彈。
    * **提早揮拍 (Early)**：球未到達邊緣即按下按鈕，判為失誤，對方得分。
    * **錯過球 (Miss)**：球移出邊界仍未按下按鈕，判為失誤，對方得分。
* **計分系統**：左右各有一個 4-bit 計數器顯示分數，獲勝時分數自動加 1。
* **變速功能**：支援正常速度與隨機變速模式 (基於 LFSR 隨機數生成)。

---


---

## 模擬波形說明 (Waveform Analysis)

### 1. 成功回擊 (Successful Return)
**情境**：當球移動到最左邊 (`10000000`) 或最右邊 (`00000001`) 的瞬間，按下對應的按鈕。

* **現象**：`o_count` 到達邊界值，`counter_move_state` 從 `counting` 狀態立即轉變為反向移動狀態。球體順利反彈。

![成功回擊波形圖](./images/successful_return.png)
> *圖說：球到達邊緣，按鈕訊號被觸發，狀態機成功切換方向。*

### 2. 提早打擊 (Early Hit / Foul)
**情境**：球還沒到達邊緣 (例如 `o_count` 還在中間位置)，玩家就按下了按鈕。

* **現象**：按鈕訊號變為 High，但 `o_count` 尚未達到邊界值。
* **結果**：`counter_move_state` 直接跳轉至 `win` 狀態 (對手得分)，判定犯規。

![提早打擊波形圖](./images/early_hit.png)
> *圖說：球尚未進區，按鈕被觸發，狀態機判定對方得分。*

### 3. 過頭/失誤 (Miss / Overdue)
**情境**：球已經移動到邊界，但玩家沒有在該週期內按下按鈕，導致球移出 LED 顯示範圍 (`00000000`)。

* **現象**：`o_count` 變為 `00000000` (全滅)，且按鈕訊號維持 Low。
* **結果**：`counter_move_state` 檢測到球消失，跳轉至 `win` 狀態 (對手得分)。

![過頭失誤波形圖](./images/miss_ball.png)
> *圖說：LED 數值變為 0，狀態機判定失誤，進入獲勝結算狀態。*

---

